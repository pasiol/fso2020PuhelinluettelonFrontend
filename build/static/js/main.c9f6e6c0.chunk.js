(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{14:function(e,t,n){e.exports=n(37)},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(13),l=n.n(c),r=n(2),u=function(e){var t=e.filter,n=e.onFilterChange;return console.log("Component FilterForm props:",t),o.a.createElement(o.a.Fragment,null,o.a.createElement("form",null,"filter shown with ",o.a.createElement("input",{onChange:n,value:t})))},i=function(e){var t=e.person,n=e.handleDeleteClicked;return console.log("Component Person props:",t),o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,t.name," ",t.number," ",o.a.createElement("button",{onClick:function(){return n(t)}},"delete")))},m=function(e){var t=e.filteredList,n=e.handleDeleteClicked;return o.a.createElement(o.a.Fragment,null,o.a.createElement("h2",null,"Numbers"),o.a.createElement("div",{id:"numbers"},t.map((function(e){return o.a.createElement(i,{key:e.name,person:e,handleDeleteClicked:n})}))))},s=function(e){var t=e.name,n=e.number,a=e.addNewName,c=e.handleNameChange,l=e.handleNumberChange;return console.log("Component PersonForm props:",t,n),o.a.createElement(o.a.Fragment,null,o.a.createElement("form",{onSubmit:a},o.a.createElement("div",null,"name: ",o.a.createElement("input",{value:t,onChange:c})),o.a.createElement("div",null,"number: ",o.a.createElement("input",{value:n,onChange:l})),o.a.createElement("div",null,o.a.createElement("button",{type:"submit"},"add"))))},d=n(3),f=n.n(d),h="/api/persons",p=function(){return f.a.get(h)},b=function(e){return f.a.post(h,e)},g=function(e){return f.a.delete("".concat(h,"/").concat(e))},v=function(e,t){return f.a.put("".concat(h,"/").concat(e),t)},E=function(e){var t=e.message,n=e.style;return o.a.createElement("div",{className:n},t)},C=(n(36),function(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),n=t[0],c=t[1],l=Object(a.useState)(""),i=Object(r.a)(l,2),d=i[0],f=i[1],h=Object(a.useState)(""),C=Object(r.a)(h,2),w=C[0],j=C[1],O=Object(a.useState)(""),k=Object(r.a)(O,2),N=k[0],y=k[1],F=Object(a.useState)(n),S=Object(r.a)(F,2),T=S[0],D=S[1],L=Object(a.useState)(""),P=Object(r.a)(L,2),x=P[0],A=P[1],I=Object(a.useState)(""),J=Object(r.a)(I,2),B=J[0],M=J[1];Object(a.useEffect)((function(){p().then((function(e){c(e.data),D(e.data)}))}),[]);return o.a.createElement("div",null,o.a.createElement("h2",null,"Phonebook"),o.a.createElement(E,{message:x,style:B}),o.a.createElement(u,{filter:N,onFilterChange:function(e){console.log("handleFilterChange event happened.",e.target.value),y(e.target.value),D(n.filter((function(t){return t.name.toLowerCase().includes(e.target.value.toLowerCase())})))}}),o.a.createElement(s,{addNewName:function(e){e.preventDefault(),console.log("addNewName event happened.",e.target,d,w);var t=n.filter((function(e){return e.name===d}));if(console.log("nameAlreadyExists",t),t.length>0)w===t[0].number?alert("".concat(d," is already added to phonebook!!!")):window.confirm("".concat(d," is already added to phonebook, replace the old number ").concat(t[0].number," with a new one ").concat(w,"?"))&&v(t[0].id,{name:t[0].name,number:w,id:t[0].id}).then((function(e){p().then((function(e){c(e.data),y(""),D(e.data),setTimeout((function(){A("Updated contact ".concat(d," phonenumber to ").concat(w," succesfully.")),M("success"),setTimeout((function(){A(""),M("")}),5e3)}),1e3)}))}));else{var a={name:d,number:w};b(a).then((function(e){c(n.concat([a])),f(""),j(""),y(""),D(n.concat([a])),setTimeout((function(){A("Added a new contact ".concat(d," to the phonebook.")),M("success"),setTimeout((function(){A(""),M("")}),5e3)}),1e3)}))}},name:d,handleNameChange:function(e){console.log("handleNameChange event happened.",e.target),f(e.target.value)},number:w,handleNumberChange:function(e){console.log("handleNumberChange event happened.",e.target),j(e.target.value)}}),o.a.createElement(m,{filteredList:T,handleDeleteClicked:function(e){console.log("handleDeleteClicked: ",e),window.confirm("Delete ".concat(e.name," ?"))&&g(e.id).then((function(t){p().then((function(e){c(e.data),D(e.data)})),setTimeout((function(){A("The contact ".concat(e.name," is deleted from phonebook.")),M("success"),setTimeout((function(){A(""),M("")}),5e3)}),1e3)})).catch((function(t){setTimeout((function(){A("Information of ".concat(e.name," has already been removed from server.")),M("error"),setTimeout((function(){A(""),M("")}),1e4)}),1e3),p().then((function(e){c(e.data),D(e.data)}))}))}}))});l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(C,null)),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.c9f6e6c0.chunk.js.map