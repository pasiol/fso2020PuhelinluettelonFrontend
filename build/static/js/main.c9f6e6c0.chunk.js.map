{"version":3,"sources":["components/FilterForm.js","components/Person.js","components/Persons.js","components/PersonForm.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["FilterForm","filter","onFilterChange","console","log","Fragment","onChange","value","Person","person","handleDeleteClicked","name","number","onClick","Persons","filteredList","id","map","key","PersonForm","addNewName","handleNameChange","handleNumberChange","onSubmit","type","baseURL","axios","get","newObject","post","delete","put","Notification","message","style","className","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","newFilter","setNewFilter","setFilteredList","notification","setNotification","notificationStyle","setNotificationStyle","useEffect","personService","then","response","data","event","target","toLowerCase","includes","preventDefault","nameAlreadyExists","length","alert","window","confirm","setTimeout","newPerson","reponse","concat","catch","error","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c9f6e6c0.chunk.js","sourcesContent":["import React from \"react\"\n\nconst FilterForm = ({filter, onFilterChange}) => {\n    console.log('Component FilterForm props:', filter);\n    \n    return (\n        <React.Fragment>\n            <form>\n                filter shown with <input onChange={onFilterChange} value={filter} />\n            </form>\n\n        </React.Fragment>\n    )\n}\n\nexport default FilterForm\n","import React from \"react\"\n\nconst Person = ({person, handleDeleteClicked}) => {\n    console.log('Component Person props:', person);\n    return (\n        <React.Fragment>\n            <p>{person.name} {person.number} <button onClick={() => handleDeleteClicked(person)}>delete</button></p>\n        </React.Fragment>\n    )\n}\n\n\nexport default Person","import React from \"react\"\nimport Person from \"./Person\"\n\nconst Persons = ({filteredList, handleDeleteClicked}) => {\n    return (\n        <React.Fragment>\n            <h2>Numbers</h2>\n            <div id=\"numbers\">\n                {filteredList.map((person) =>\n                    <Person key={person.name} person={person} handleDeleteClicked={handleDeleteClicked} />\n                )}\n            </div>\n        </React.Fragment>\n    )\n}\n\n\nexport default Persons","import React from \"react\"\n\nconst PersonForm = ({name, number, addNewName, handleNameChange, handleNumberChange}) => {\n    console.log('Component PersonForm props:', name, number);\n    \n    return (\n        <React.Fragment>\n            <form onSubmit={addNewName}>\n                <div>\n                    name: <input value={name} onChange={handleNameChange} />\n                </div>\n                <div>\n                    number: <input value={number} onChange={handleNumberChange} />\n                </div>\n                <div>\n                    <button type=\"submit\">add</button>\n                </div>\n            </form>\n        </React.Fragment>\n    )\n}\n\nexport default PersonForm","import axios from 'axios'\n\nconst baseURL='/api/persons'\n\nconst getAll = () => {\n    return axios.get(baseURL)\n}\n\nconst create = newObject => {\n    return axios.post(baseURL, newObject)\n}\n\nconst remove = id => {\n    return axios.delete(`${baseURL}/${id}`)\n}\n\nconst update = (id, newObject) => {\n    return axios.put(`${baseURL}/${id}`, newObject)\n}\n\nexport default {\n    getAll,\n    create,\n    remove,\n    update\n}","import React from 'react'\n\nconst Notification = ({message, style}) => {\n    return (\n        <div className={style}>\n            {message}\n        </div>\n    )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport FilterForm from \"./components/FilterForm\"\nimport Persons from \"./components/Persons\"\nimport PersonForm from './components/PersonForm'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\nimport './style.css'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber] = useState('')\n  const [ newFilter, setNewFilter] = useState('')\n  const [ filteredList, setFilteredList] = useState(persons)\n  const [ notification, setNotification] = useState(\"\")\n  const [ notificationStyle, setNotificationStyle] = useState(\"\")\n\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n        setFilteredList(response.data)\n      })\n  }, [])\n\n  const addNewName = (event) => {\n    event.preventDefault()\n    console.log(\"addNewName event happened.\", event.target, newName, newNumber);\n    const nameAlreadyExists = persons.filter(person => person.name === newName)\n    console.log(\"nameAlreadyExists\", nameAlreadyExists)\n    if (nameAlreadyExists.length > 0) {\n      if (newNumber===nameAlreadyExists[0].number) {\n        alert(`${newName} is already added to phonebook!!!`)\n      } else {\n        if (window.confirm(`${newName} is already added to phonebook, replace the old number ${nameAlreadyExists[0].number} with a new one ${newNumber}?`)) {\n          personService\n            .update(nameAlreadyExists[0].id, {name: nameAlreadyExists[0].name, number: newNumber, id: nameAlreadyExists[0].id})\n            .then(response => {\n              personService.getAll()\n                .then(response => {\n                  setPersons(response.data)\n                  setNewFilter(\"\")\n                  setFilteredList(response.data)\n                  setTimeout(() => {\n                    setNotification(`Updated contact ${newName} phonenumber to ${newNumber} succesfully.`)\n                    setNotificationStyle(\"success\")\n                    setTimeout(() => {\n                      setNotification(\"\")\n                      setNotificationStyle(\"\")\n                    }, 5000)\n                  }, 1000)\n                })\n            })\n        }\n      }\n    } else {\n      const newPerson = {\"name\": newName, number: newNumber}\n      \n      personService\n        .create(newPerson)\n        .then(reponse => {\n          setPersons(persons.concat([newPerson]))\n          setNewName(\"\")\n          setNewNumber(\"\")\n          setNewFilter(\"\")\n          setFilteredList(persons.concat([newPerson]))\n          setTimeout(() => {\n            setNotification(`Added a new contact ${newName} to the phonebook.`)\n            setNotificationStyle(\"success\")\n            setTimeout(() => {\n              setNotification(\"\")\n              setNotificationStyle(\"\")\n            }, 5000)\n          }, 1000)\n        }\n      )\n    }\n  }\n\n  const handleNameChange = (event) => {\n    console.log(\"handleNameChange event happened.\", event.target);\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(\"handleNumberChange event happened.\", event.target);\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    console.log(\"handleFilterChange event happened.\", event.target.value);\n    setNewFilter(event.target.value)\n    setFilteredList(persons.filter(person => person.name.toLowerCase().includes(event.target.value.toLowerCase())))\n  }\n\n  const handleDeleteClicked = (person) => {\n    console.log(\"handleDeleteClicked: \", person);\n    if (window.confirm(`Delete ${person.name} ?`)) {\n      personService\n        .remove(person.id)\n        .then(response => {\n          personService\n            .getAll()\n            .then(response => {\n              setPersons(response.data)\n              setFilteredList(response.data)\n          })\n          setTimeout(() => {\n            setNotification(`The contact ${person.name} is deleted from phonebook.`)\n            setNotificationStyle(\"success\")\n            setTimeout(() => {\n              setNotification(\"\")\n              setNotificationStyle(\"\")\n            }, 5000)\n          }, 1000)\n         })\n         .catch(error => {\n          setTimeout(() => {\n            setNotification(`Information of ${person.name} has already been removed from server.`)\n            setNotificationStyle(\"error\")\n            setTimeout(() => {\n              setNotification(\"\")\n              setNotificationStyle(\"\")\n            }, 10000)\n          }, 1000)\n          personService\n            .getAll()\n            .then(response => {\n              setPersons(response.data)\n              setFilteredList(response.data)\n          })\n        })\n    }\n  }\n\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notification} style={notificationStyle} />\n      <FilterForm filter={newFilter} onFilterChange={handleFilterChange} />\n      <PersonForm addNewName={addNewName} name={newName} handleNameChange={handleNameChange} number={newNumber} handleNumberChange={handleNumberChange} />\n      <Persons filteredList={filteredList} handleDeleteClicked={handleDeleteClicked} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}